workflows:
  android-expo:
    name: Android Expo Build
    max_build_duration: 60
    instance_type: linux  # valid options: linux, linux_x2, linux_x4, mac_mini, mac_mini_m1, etc.
    environment:
      node: 20
      vars:
        EXPO_TOKEN: Encrypted(...) # optional, only if you want automatic login
    scripts:
      - name: Install dependencies
        script: |
          npm install -g expo-cli
          npm install
      - name: Prebuild (optional)
        script: |
          npx expo prebuild --no-install
      - name: Build APK
        script: |
          npx expo build:android -t apk
    artifacts:
      - '**/*.apk'
